<view class="order-container"><view class="tabs"><view class="{{['tab-item', a && 'active']}}" bindtap="{{b}}"> 场地预约 </view><view class="{{['tab-item', c && 'active']}}" bindtap="{{d}}"> 道具租借 </view></view><view wx:if="{{e}}" class="order-list"><view wx:if="{{f}}" class="empty-state"><image src="/static/images/empty.png" mode="aspectFit" class="empty-image"></image><text class="empty-text">暂无场地预约记录</text></view><block wx:else><view wx:for="{{g}}" wx:for-item="order" wx:key="n" class="order-item" bindtap="{{order.o}}"><view class="{{['order-status-bar', order.b]}}"><text>{{order.a}}</text></view><view wx:if="{{order.c}}" class="venue-image-wrapper"><image src="{{order.d}}" mode="aspectFill" class="venue-cover"></image></view><view class="order-main-content"><view class="venue-title-row"><text class="venue-name">{{order.e}}</text><text class="order-price">¥{{order.f}}</text></view><view class="venue-time-info"><view class="time-item"><text class="time-icon">🕒</text><text class="time-text">{{order.g}} - {{order.h}}</text></view></view><view class="order-id-row"><text class="order-id">订单号：{{order.i}}</text></view></view><view class="order-footer"><button wx:if="{{order.j}}" class="order-btn cancel" catchtap="{{order.k}}"> 取消预约 </button><button wx:if="{{order.l}}" class="order-btn pay" catchtap="{{order.m}}"> 立即支付 </button></view></view></block></view><view wx:if="{{h}}" class="rental-list"><view wx:if="{{i}}" class="empty-state"><image src="/static/images/empty.png" mode="aspectFit" class="empty-image"></image><text class="empty-text">暂无道具租借记录</text></view><block wx:else><view wx:for="{{j}}" wx:for-item="rental" wx:key="q" class="rental-item" bindtap="{{rental.r}}"><view class="rental-header"><text class="rental-id">订单号：{{rental.a}}</text><text class="{{['rental-status', rental.c]}}">{{rental.b}}</text></view><view class="rental-content"><image wx:if="{{rental.d}}" src="{{rental.e}}" mode="aspectFill" class="prop-image"></image><view class="prop-info"><view class="prop-name">{{rental.f}}</view><view class="rental-time"><text class="time-label">开始时间：</text><text class="time-value">{{rental.g}}</text></view><view wx:if="{{rental.h}}" class="rental-time"><text class="time-label">归还时间：</text><text class="time-value">{{rental.i}}</text></view><view wx:if="{{rental.j}}" class="rental-duration"><text class="duration-label">已租借：</text><text class="duration-value">{{rental.k}}</text></view></view></view><view class="rental-footer"><view class="rental-price-container"><text class="price-label">租借费用：</text><text wx:if="{{rental.l}}" class="rental-price">¥{{rental.m}}</text><text wx:else class="rental-price estimated">{{rental.n}}</text></view><button wx:if="{{rental.o}}" class="rental-btn return" bindtap="{{rental.p}}"> 归还道具 </button></view></view></block></view><view wx:if="{{k}}" class="return-modal"><view class="modal-content"><view class="modal-title">确认归还</view><view class="modal-body"><text>道具：{{l}}</text><text>租借时间：{{m}}</text><text>租借时长：{{n}}</text><text class="price-estimate">预计费用：{{o}}</text></view><view class="modal-footer"><button class="modal-btn cancel" bindtap="{{p}}">取消</button><button class="modal-btn confirm" bindtap="{{q}}">确认归还</button></view></view></view><view wx:if="{{r}}" class="detail-modal"><view class="modal-content"><view class="modal-header"><text class="modal-title">场地预约详情</text><text class="modal-close" bindtap="{{s}}">×</text></view><view class="modal-body"><view wx:if="{{t}}" class="detail-item"><text class="detail-label">场馆图片</text><image src="{{v}}" mode="aspectFill" class="venue-cover-image"></image></view><view class="detail-item"><text class="detail-label">场馆名称</text><text class="detail-value">{{w}}</text></view><view class="detail-item"><text class="detail-label">场馆地址</text><text class="detail-value">{{x}}</text></view><view class="detail-item"><text class="detail-label">预约时间</text><text class="detail-value">{{y}} - {{z}}</text></view><view class="detail-item"><text class="detail-label">预约状态</text><text class="{{['detail-value', 'status', B]}}">{{A}}</text></view><view class="detail-item"><text class="detail-label">订单金额</text><text class="detail-value price">¥{{C}}</text></view><view class="detail-item"><text class="detail-label">订单号</text><text class="detail-value">{{D}}</text></view><view class="detail-item"><text class="detail-label">创建时间</text><text class="detail-value">{{E}}</text></view><view wx:if="{{F}}" class="detail-item"><text class="detail-label">场馆介绍</text><text class="detail-value">{{G}}</text></view></view><view class="modal-footer"><button class="modal-btn close" bindtap="{{H}}">关闭</button><button wx:if="{{I}}" class="modal-btn pay" bindtap="{{J}}"> 去支付 </button></view></view></view><view wx:if="{{K}}" class="detail-modal"><view class="modal-content"><view class="modal-header"><text class="modal-title">道具租借详情</text><text class="modal-close" bindtap="{{L}}">×</text></view><view class="modal-body"><view wx:if="{{M}}" class="detail-item"><image src="{{N}}" mode="aspectFill" class="prop-cover-image"></image></view><view class="detail-item"><text class="detail-label">道具名称</text><text class="detail-value">{{O}}</text></view><view class="detail-item"><text class="detail-label">租借状态</text><text class="{{['detail-value', 'status', Q]}}">{{P}}</text></view><view class="detail-item"><text class="detail-label">开始时间</text><text class="detail-value">{{R}}</text></view><view wx:if="{{S}}" class="detail-item"><text class="detail-label">归还时间</text><text class="detail-value">{{T}}</text></view><view wx:if="{{U}}" class="detail-item"><text class="detail-label">已租借时长</text><text class="detail-value duration">{{V}}</text></view><view class="detail-item"><text class="detail-label">租借费用</text><text wx:if="{{W}}" class="detail-value price">¥{{X}}</text><text wx:else class="detail-value price estimated">{{Y}}</text></view><view class="detail-item"><text class="detail-label">订单号</text><text class="detail-value">{{Z}}</text></view></view><view class="modal-footer"><button class="modal-btn close" bindtap="{{aa}}">关闭</button><button wx:if="{{ab}}" class="modal-btn return" bindtap="{{ac}}"> 归还道具 </button></view></view></view></view>